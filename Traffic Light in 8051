#include <reg51.h>
void delay(void);
void main(){
unsigned int i,j;
while(1)
{
P0=0XFF; //RED LIGHT
P1=0X00; //YELLOW LIGHT
P2=0X00; //GREEN LIGHT
for(i=0;i<20;i++){
for(j=0;j<30;j++){
delay(); // 11 second RED LIGHT
}
}
P0=0X00;
P1=0XFF;
P2=0X00;
for(i=0;i<20;i++){
for(j=0;j<10;j++){
delay(); // 3 SECOND YELLOW LIGHT
}
}
P0=0X00;
P1=0X00;
P2=0XFF;
for(i=0;i<20;i++){
for(j=0;j<30;j++){
delay(); // 11 SECOND GREEN LIGHT
}
}
}
}
void delay(void)
{
TMOD=0X01;
TL0=0xB0; //DELAY OF 50 MICROSECONDS (65536-50000) = 3CB0H
TH0=0X3C; //DELAY OF 50 MICROSECONDS (65536-50000) = 3CB0H
TR0=0X01;
while(TF0==0);
TR0=0X00;
TF0=0X00;
}
